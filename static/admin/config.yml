backend:
  name: github
  repo: Harjot1Singh/harjot.me
  commit_messages:
    create: "feat({{collection}}): create {{slug}}"
    update: "feat({{collection}}): update {{slug}}"
    delete: |+
      feat({{collection}}): delete {{slug}}

      BREAKING CHANGE
    uploadMedia: "feat(media): upload {{path}}"
    deleteMedia: |+
      feat(media): delete {{path}}

      BREAKING CHANGE

publish_mode: editorial_workflow

media_folder: static/img
public_folder: /img

collections:
  - name: blog
    label: Blog
    folder: src/content/blog
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - {
          label: Template Key,
          name: templateKey,
          widget: hidden,
          default: blog-post,
        }
      - { label: Title, name: title, widget: string }
      - { label: Image, name: image, widget: image }
      - { label: Publish Date, name: date, widget: datetime }
      - { label: Description, name: description, widget: text }
      - { label: Tags, name: tags, widget: list }
      - { label: Body, name: body, widget: markdown }

  - name: projects
    label: Projects
    folder: src/content/projects
    create: true
    fields:
      - {
          label: Template Key,
          name: templateKey,
          widget: hidden,
          default: project-post,
        }
      - { label: Title, name: description, widget: string }
      - { label: Featured Image, name: featuredimage, widget: image }
      - { label: Date, name: date, widget: datetime }
      - { label: Technologies, name: technologies, widget: list }
      - { label: Tags, name: tags, widget: list }
      - { label: Body, name: body, widget: markdown }

  - name: page-sections
    label: Page Sections
    files:
      - file: src/content/sections/home.md
        label: Home
        name: home
        fields:
          - {
              label: Template Key,
              name: templateKey,
              widget: hidden,
              default: home-section,
            }
          - { label: Name, name: name, widget: string }
          - { label: Roles, name: roles, widget: list }
          - { label: Profile Picture, name: profilePicture, widget: image }
          - {
              label: Icon Links,
              name: iconLinks,
              widget: list,
              fields:
                [
                  { label: URL, name: url, widget: string },
                  { label: Icon, name: icon, widget: image },
                ]
            }

      - file: src/content/sections/about.md
        label: About
        name: about
        fields:
          - {
              label: Template Key,
              name: templateKey,
              widget: hidden,
              default: about-section,
            }
          - { label: Blurb, name: blurb, widget: markdown }
          - { label: Skills, name: skills, widget: list }

      - file: src/content/sections/projects.md
        label: Projects
        name: projects
        fields:
          - {
              label: Template Key,
              name: templateKey,
              widget: hidden,
              default: project-section,
            }
          - {
              label: Projects,
              name: projects,
              widget: relation,
              collection: projects,
              valueField: name,
              searchFields: [name],
              multiple: true
            }

      - file: src/content/sections/contact.md
        label: Contact
        name: contact
        fields:
          - {
              label: Template Key,
              name: templateKey,
              widget: hidden,
              default: contact-section,
            }
          - {
              label: Icon Links,
              name: iconLinks,
              widget: list,
              fields:
                [
                  { label: URL, name: url, widget: string },
                  { label: Icon, name: icon, widget: image },
                ]
            }          
          - { label: Body, name: body, widget: markdown }
